# Go Worker Pool Project

## Описание проекта

Этот проект реализует воркер пул на языке Go с поддержкой очереди задач, API-интерфейса для приёма задач и обработкой контекстов отмены.

Основная цель – эффективная обработка параллельных задач в ограниченном пуле воркеров с гарантией корректной работы и управлением состояниями задач.

---

## Структура проекта

- `internal/worker` – ядро воркер пула, интерфейсы задач, реализация пула, запуск, управление жизненным циклом и обработка ошибок.
- `internal/queue` – реализация потокобезопасной кольцевой очереди с поддержкой блокирующего ожидания и сигналов, ограниченной по размеру.
- `internal/api` – HTTP API сервер с обработкой запросов для добавления задач, проверки статуса и простого health чек-а.
- `cmd/` – точка входа приложения с конфигурацией и запуском сервисов.

---

## Используемые решения и паттерны

- **Worker Pool Pattern** – ограниченное число параллельных воркеров для управления нагрузкой.
- **Blocking Ring Buffer Queue** – реализация с кольцевым буфером, сигналами `sync.Cond` для эффективного ожидания и уведомлений.
- **Контекст выполнения задач** – поддержка отмены и таймаутов через `context.Context`.
- **HTTP API** – эндпоинты для приёма задач, проверки состояния и мониторинга работы пула.
- **Unit тесты** – покрытие логики пулa, очереди и API ручным и модульным тестированием.

---

## Использование

1. Запустите сервис: go run ./cmd/app
2. Для запуска тестов используйте: go test ./... или go test -coverprofile=coverage.out ./...
3. Для работы с API используйте POST-запросы, пример:  curl -X POST http://localhost:8080/enqueue \
-H "Content-Type: application/json" \
-d '{"id":"task-1"}'

## Контакты
Выполнил Цветков Денис  

tg: @getroses

mail: tsvetkovdenis44@gmail.com

github:https://github.com/flowerize
